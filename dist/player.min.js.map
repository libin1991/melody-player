{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/lrc-kit/lib/line-parser.js","webpack:///./node_modules/lrc-kit/lib/lrc.js","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/lrc-kit/lib/lrc-kit.js","webpack:///./src/player.less","webpack:///./src/font-face.less","webpack:///./node_modules/lrc-kit/lib/runner.js","webpack:///./node_modules/css-loader/dist/runtime/url-escape.js","webpack:///./font/ic.min.woff2","webpack:///./src/h.js","webpack:///./src/player.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_slicedToArray","arr","Array","isArray","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","length","err","sliceIterator","TypeError","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","LineParser","line","instance","_classCallCheck","this","type","TYPE","INVALID","_LineParser$parseTags","parseTags","_LineParser$parseTags2","tags","content","TIME_REGEXP","test","parseAsTime","INFO_REGEXP","parseAsInfo","e","trim","tag","TAGS_REGEXP","exec","substr","slice","split","timestamps","forEach","matchs","minutes","parseFloat","seconds","replace","TIME","INFO","default","obj","_lineParser","require","_lineParser2","Lrc","info","lyrics","offsetTime","lyric","timestamp","clonePlainObject","newObj","lrc","constructor","reduce","ret","opts","arguments","combine","lineFormat","sort","lines","lyricsMap","lyricsList","a","b","map","timestampToString","join","text","num","size","toString","padZero","parseInt","toFixed","useSourceMap","list","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","source","sourceRoot","concat","cssWithMappingToString","mediaQuery","alreadyImportedModules","id","Runner","_interopRequireDefault","_lrc2","_runner2","___CSS_LOADER_URL___0___","urlEscape","_lrc","offset","_currentIndex","setLrc","clone","lrcUpdate","_offsetAlign","_sort","isNaN","_findIndex","startIndex","curFrontTimestamp","Number","NEGATIVE_INFINITY","curBackTimestamp","POSITIVE_INFINITY","index","curIndex","Error","getLyric","url","needQuotes","h","attr","children","elm","document","createElement","entries","k","v","setAttribute","ev","toLowerCase","addEventListener","child","appendChild","createTextNode","MelodyPlayer","HTMLElement","TagName","LoopMode","Once","Single","List","Shuffle","0","1","2","3","LyricStatus","Loading","Loaded","Failed","None","LogTag","[object Object]","args","console","log","error","dt","Date","mm","getUTCMinutes","getUTCHours","ss","getUTCSeconds","hide","style","display","singleMode","_singleMode","window","requestAnimationFrame","hostElem","removeAttribute","playing","_playing","btnPlay","textContent","dataset","syncProgress","playIndex","_playIndex","au","audios","duration","timerTotal","time","fetchLyric","then","shouldRender","renderLyric","lyricStatus","_lyricStatus","lyricMaskLoading","containerLyric","lyricMaskFailed","lyricMaskNone","lyricIndex","_lyricIndex","before","current","bf","classList","remove","cur","add","clientHeight","offsetTop","transform","loopMode","_loopMode","btnLoop","displayVisible","_displayVisible","btnLyric","containerDisplay","registerAudio","audio","evInit","detail","handleAudioPlaying","dispatchEvent","CustomEvent","handleAudioEnd","init","updateProgress","buffered","currentTime","played","loaded","end","timerPlay","progressPlay","width","percent","progressLoad","setTimeout","urls","subLrc","tasks","lrcUrl","promise","fetch","ok","assign","status","parse","catch","Promise","all","cmp","lyricElms","j","sl","frag","createDocumentFragment","class","data-timestamp","nextLyricIndex","loopStart","activeLyric","_currentSecond","Math","floor","_play","play","_pause","position","pause","handlePlayOrPause","nextPlayIndex","force","total","random","handleNext","handleLoopMode","loop","handleProgressSeek","rect","progressFull","getBoundingClientRect","seekTime","clientX","left","handleToggleDisplay","render","shadow","attachShadow","PLAYER_STYLE","ref","btnPrev","onClick","data-play","data-pause","btnNext","data-once","data-single","data-list","data-shuffle","super","resolve","from","filter","HTMLAudioElement","customElements","define","head","PLAYER_FONT_FACE"],"mappings":"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","file":"player.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LineParser = function () {\n  _createClass(LineParser, null, [{\n    key: 'parseTags',\n\n    // match `[ti: The Title]`\n    value: function parseTags(line) {\n      line = line.trim();\n      var matchs = LineParser.TAGS_REGEXP.exec(line);\n      var tag = matchs[0];\n      var content = line.substr(tag.length);\n      return [tag.slice(1, -1).split(/\\]\\s*\\[/), content];\n    }\n\n    /**\n     * line parse lrc of timestamp\n     * @example\n     * var lp = new LineParser('[ti: Song title]')\n     * lp.type === LineParser.TYPE.INFO\n     * lp.key === 'ti'\n     * lp.value === 'Song title'\n     *\n     * var lp = new LineParser('[10:10.10]hello')\n     * lp.type === LineParser.TYPE.TIME\n     * lp.timestamps === [10*60+10.10]\n     * lp.content === 'hello'\n     * @constructs\n     * @param {string} line\n     */\n\n    // match `[512:34.1] lyric content`\n\n    // match `[12:30.1][12:30.2]`\n\n  }]);\n\n  function LineParser(line) {\n    _classCallCheck(this, LineParser);\n\n    this.type = LineParser.TYPE.INVALID;\n\n    try {\n      var _LineParser$parseTags = LineParser.parseTags(line),\n          _LineParser$parseTags2 = _slicedToArray(_LineParser$parseTags, 2),\n          tags = _LineParser$parseTags2[0],\n          content = _LineParser$parseTags2[1];\n\n      if (LineParser.TIME_REGEXP.test(tags[0])) {\n        this.parseAsTime(tags, content);\n      } else if (LineParser.INFO_REGEXP.test(tags[0])) {\n        this.parseAsInfo(tags[0]);\n      } else {\n        this.type = LineParser.TYPE.INVALID;\n      }\n    } catch (e) {\n      this.type = LineParser.TYPE.INVALID;\n    }\n  }\n\n  _createClass(LineParser, [{\n    key: 'parseAsTime',\n    value: function parseAsTime(tags, content) {\n      var timestamps = [];\n      tags.forEach(function (tag) {\n        var matchs = LineParser.TIME_REGEXP.exec(tag);\n        var minutes = parseFloat(matchs[1]);\n        var seconds = parseFloat(matchs[2].replace(/\\s+/g, '').replace(':', '.'));\n        timestamps.push(minutes * 60 + seconds);\n      });\n      this.timestamps = timestamps;\n      this.content = content.trim();\n      this.type = LineParser.TYPE.TIME;\n    }\n  }, {\n    key: 'parseAsInfo',\n    value: function parseAsInfo(tag) {\n      var matchs = LineParser.INFO_REGEXP.exec(tag);\n      this.key = matchs[1].trim();\n      this.value = matchs[2].trim();\n      this.type = LineParser.TYPE.INFO;\n    }\n  }]);\n\n  return LineParser;\n}();\n\nLineParser.TAGS_REGEXP = /^(\\[.+\\])+/;\nLineParser.INFO_REGEXP = /^\\s*(\\w+)\\s*:(.*)$/;\nLineParser.TIME_REGEXP = /^\\s*(\\d+)\\s*:\\s*(\\d+(\\s*[\\.:]\\s*\\d+)?)\\s*$/;\nLineParser.TYPE = {\n  INVALID: 0,\n  INFO: 1,\n  TIME: 2\n};\nexports.default = LineParser;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lineParser = require('./line-parser');\n\nvar _lineParser2 = _interopRequireDefault(_lineParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Lrc = function () {\n  function Lrc() {\n    _classCallCheck(this, Lrc);\n\n    this.info = {};\n    this.lyrics = [];\n  }\n\n  _createClass(Lrc, [{\n    key: 'offset',\n    value: function offset(offsetTime) {\n      this.lyrics.forEach(function (lyric) {\n        lyric.timestamp += offsetTime;\n        if (lyric.timestamp < 0) {\n          lyric.timestamp = 0;\n        }\n      });\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      function clonePlainObject(obj) {\n        var newObj = {};\n        for (var key in obj) {\n          newObj[key] = obj[key];\n        }\n        return newObj;\n      }\n      var lrc = new this.constructor();\n      lrc.info = clonePlainObject(this.info);\n      lrc.lyrics = this.lyrics.reduce(function (ret, lyric) {\n        ret.push(clonePlainObject(lyric));\n        return ret;\n      }, []);\n      return lrc;\n    }\n\n    /**\n     * get lrc text\n     * @param {object} opts options\n     * @param {boolean} opts.combine lyrics combine by same content\n     * @param {boolean} opts.sort lyrics sort by timestamp\n     * @param {string} opts.lineFormat newline format\n     * @return {string}\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      opts.combine = 'combine' in opts ? opts.combine : true;\n      opts.lineFormat = 'lineFormat' in opts ? opts.lineFormat : '\\r\\n';\n      opts.sort = 'sort' in opts ? opts.sort : true;\n      var lines = [],\n          lyricsMap = {},\n          lyricsList = [];\n\n      // generate info\n      for (var key in this.info) {\n        lines.push('[' + key + ':' + this.info[key] + ']');\n      }\n\n      if (opts.combine) {\n        // uniqueness\n        this.lyrics.forEach(function (lyric) {\n          if (lyric.content in lyricsMap) {\n            lyricsMap[lyric.content].push(lyric.timestamp);\n          } else {\n            lyricsMap[lyric.content] = [lyric.timestamp];\n          }\n        });\n        // sorted\n        for (var content in lyricsMap) {\n          if (opts.sort) {\n            lyricsMap[content].sort();\n          }\n          lyricsList.push({\n            timestamps: lyricsMap[content],\n            content: content\n          });\n        }\n\n        if (opts.sort) {\n          lyricsList.sort(function (a, b) {\n            return a.timestamps[0] - b.timestamps[0];\n          });\n        }\n\n        // generate lyrics\n        lyricsList.forEach(function (lyric) {\n          lines.push('[' + lyric.timestamps.map(function (timestamp) {\n            return Lrc.timestampToString(timestamp);\n          }).join('][') + ']' + (lyric.content || ''));\n        });\n      } else {\n        this.lyrics.forEach(function (lyric) {\n          lines.push('[' + Lrc.timestampToString(lyric.timestamp) + ']' + (lyric.content || ''));\n        });\n      }\n\n      return lines.join(opts.lineFormat);\n    }\n  }], [{\n    key: 'parse',\n\n\n    /**\n     * parse lrc text and return a Lrc object\n     * @param {string} text\n     * @return {Lrc}\n     */\n    value: function parse(text) {\n      var lyrics = [];\n      var info = {};\n      text.split(/\\r\\n|[\\n\\r]/g).map(function (line) {\n        return new _lineParser2.default(line);\n      }).forEach(function (line) {\n        switch (line.type) {\n          case _lineParser2.default.TYPE.INFO:\n            info[line.key] = line.value;\n            break;\n          case _lineParser2.default.TYPE.TIME:\n            line.timestamps.forEach(function (timestamp) {\n              lyrics.push({\n                timestamp: timestamp,\n                content: line.content\n              });\n            });\n            break;\n          default:\n            break;\n        }\n      });\n      var lrc = new this();\n      lrc.lyrics = lyrics;\n      lrc.info = info;\n      return lrc;\n    }\n  }, {\n    key: 'padZero',\n    value: function padZero(num) {\n      var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n\n      while (num.toString().split('.')[0].length < size) {\n        num = '0' + num;\n      }return num;\n    }\n\n    /**\n     * get lrc time string\n     * @example\n     * Lrc.timestampToString(143.54)\n     * // return '02:23.54':\n     * @param {number} timestamp second timestamp\n     * @return {string}\n     */\n\n  }, {\n    key: 'timestampToString',\n    value: function timestampToString(timestamp) {\n      return this.padZero(parseInt(timestamp / 60)) + ':' + this.padZero((timestamp % 60).toFixed(2));\n    }\n  }]);\n\n  return Lrc;\n}();\n\nexports.default = Lrc;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Runner = exports.Lrc = exports.LineParser = undefined;\n\nvar _lineParser = require('./line-parser');\n\nvar _lineParser2 = _interopRequireDefault(_lineParser);\n\nvar _lrc = require('./lrc');\n\nvar _lrc2 = _interopRequireDefault(_lrc);\n\nvar _runner = require('./runner');\n\nvar _runner2 = _interopRequireDefault(_runner);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.LineParser = _lineParser2.default;\nexports.Lrc = _lrc2.default;\nexports.Runner = _runner2.default;","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".__mld__{font:16px sans-serif;margin:8px;padding:8px;color:#abb2bf;background:#282c34;box-shadow:0 2px 10px rgba(0,0,0,.6)}.__mld__ .disp{position:relative;font-size:14px;height:0;overflow:hidden;transition:height .5s;mask-image:linear-gradient(transparent,#000,transparent);-webkit-mask-image:linear-gradient(transparent,#000,transparent)}.__mld__ .disp .lrc{transform:translateY(0);transition:transform .5s cubic-bezier(.25,.46,.45,.94)}.__mld__ .disp .lrc .line{opacity:.6;margin:16px 0;white-space:pre-wrap;text-align:center;transition:color .2s,opacity .2s}.__mld__ .disp .lrc .line.active{color:#fff;opacity:1;text-shadow:0 0 .3px currentColor}.__mld__ .disp .lrc.mask{position:relative;top:calc(50% - 3em)}.__mld__ .disp.active{height:150px}.__mld__ .ctl{display:flex;align-items:center}.__mld__ .ctl button{color:#abb2bf;font:20px MelodyPlayerIcons;font-weight:400;font-style:normal;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;font-feature-settings:'liga' 1;display:inline-block;box-sizing:content-box;width:32px;height:32px;border-radius:16px;border:none;margin:0;padding:0;user-select:none;outline:0;cursor:pointer;background:0 0;transition:.5s;-webkit-tap-highlight-color:transparent}.__mld__ .ctl button:hover{transition:background-color .2s,transform .5s;background:rgba(255,255,255,.15)}.__mld__ .ctl button:active{background:rgba(255,255,255,.4)}.__mld__ .ctl button.flip{transform:rotate(180deg)}.__mld__ .ctl button::-moz-focus-inner{border:0}.__mld__ .ctl .porgress{cursor:pointer;position:relative;margin-left:8px;flex-grow:1;height:12px;color:#61aeee;background:rgba(0,0,0,.6)}.__mld__ .ctl .porgress div{width:0;height:100%;position:absolute;transition:width 1s linear}.__mld__ .ctl .porgress div.seek{transition:width .2s}.__mld__ .ctl .porgress .load{background:rgba(255,255,255,.3)}.__mld__ .ctl .porgress .play{background:currentColor}.__mld__ .ctl .porgress .play::after{content:' ';cursor:pointer;color:#fff;position:absolute;box-sizing:content-box;width:2px;height:100%;right:0;top:0;border:0 solid currentColor;box-shadow:0 0 0 transparent;background:currentColor;transition:.2s}.__mld__ .ctl .porgress:hover .play::after{border-width:6px 3px;box-shadow:0 0 4px rgba(0,0,0,.6);top:-6px;right:-3px}.__mld__ .ctl .timer{font-size:14px;margin-left:8px;user-select:none}.__mld__ .ctl .ctl-right{margin-left:8px}.__mld__[single] .ctl-left button:first-child,.__mld__[single] .ctl-left button:last-child{display:none}\", \"\"]);\n\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar urlEscape = require(\"../node_modules/css-loader/dist/runtime/url-escape.js\");\nvar ___CSS_LOADER_URL___0___ = urlEscape(require(\"../font/ic.min.woff2\"));\n\n// Module\nexports.push([module.id, \"@font-face{font-family:MelodyPlayerIcons;src:url(\" + ___CSS_LOADER_URL___0___ + \") format('woff2')}\", \"\"]);\n\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lrc = require('./lrc');\n\nvar _lrc2 = _interopRequireDefault(_lrc);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Runner = function () {\n  /**\n   * @param {Lrc} lrc\n   */\n  function Runner() {\n    var lrc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new _lrc2.default();\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    _classCallCheck(this, Runner);\n\n    this.offset = offset;\n    this._currentIndex = -1;\n    this.setLrc(lrc);\n  }\n\n  /**\n   *  @param {Lrc} lrc\n   */\n\n\n  _createClass(Runner, [{\n    key: 'setLrc',\n    value: function setLrc(lrc) {\n      this.lrc = lrc.clone();\n      this.lrcUpdate();\n    }\n  }, {\n    key: 'lrcUpdate',\n    value: function lrcUpdate() {\n      if (this.offset) {\n        this._offsetAlign();\n      }\n      this._sort();\n    }\n  }, {\n    key: '_offsetAlign',\n    value: function _offsetAlign() {\n      if ('offset' in this.lrc.info) {\n        var offset = parseInt(this.lrc.info.offset) / 1000;\n        if (!isNaN(offset)) {\n          this.lrc.offset(offset);\n          delete this.lrc.info.offset;\n        }\n      }\n    }\n  }, {\n    key: '_sort',\n    value: function _sort() {\n      this.lrc.lyrics.sort(function (a, b) {\n        return a.timestamp - b.timestamp;\n      });\n    }\n\n    /**\n     *  @param {number} timestamp\n     */\n\n  }, {\n    key: 'timeUpdate',\n    value: function timeUpdate(timestamp) {\n      if (this._currentIndex >= this.lrc.lyrics.length) {\n        this._currentIndex = this.lrc.lyrics.length - 1;\n      } else if (this._currentIndex < -1) {\n        this._currentIndex = -1;\n      }\n      this._currentIndex = this._findIndex(timestamp, this._currentIndex);\n    }\n  }, {\n    key: '_findIndex',\n    value: function _findIndex(timestamp, startIndex) {\n      var curFrontTimestamp = startIndex == -1 ? Number.NEGATIVE_INFINITY : this.lrc.lyrics[startIndex].timestamp;\n\n      var curBackTimestamp = startIndex == this.lrc.lyrics.length - 1 ? Number.POSITIVE_INFINITY : this.lrc.lyrics[startIndex + 1].timestamp;\n\n      if (timestamp < curFrontTimestamp) {\n        return this._findIndex(timestamp, startIndex - 1);\n      } else if (timestamp === curBackTimestamp) {\n        if (curBackTimestamp === Number.POSITIVE_INFINITY) {\n          return startIndex;\n        } else {\n          return startIndex + 1;\n        }\n      } else if (timestamp > curBackTimestamp) {\n        return this._findIndex(timestamp, startIndex + 1);\n      } else {\n        return startIndex;\n      }\n    }\n  }, {\n    key: 'getInfo',\n    value: function getInfo() {\n      return this.lrc.info;\n    }\n  }, {\n    key: 'getLyrics',\n    value: function getLyrics() {\n      return this.lrc.lyrics;\n    }\n\n    /**\n     *  @return {Object} {''}\n     */\n\n  }, {\n    key: 'getLyric',\n    value: function getLyric() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.curIndex();\n\n      if (index >= 0 && index <= this.lrc.lyrics.length - 1) {\n        return this.lrc.lyrics[index];\n      } else {\n        throw new Error('Index not exist');\n      }\n    }\n  }, {\n    key: 'curIndex',\n    value: function curIndex() {\n      return this._currentIndex;\n    }\n  }, {\n    key: 'curLyric',\n    value: function curLyric() {\n      return this.getLyric();\n    }\n  }]);\n\n  return Runner;\n}();\n\nexports.default = Runner;","\"use strict\";\n\nmodule.exports = function escape(url, needQuotes) {\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"';\n  }\n\n  return url;\n};","module.exports = \"data:font/woff2;base64,d09GMgABAAAAAAPQAA8AAAAACigAAAN5AAEEWgAAAAAAAAAAAAAAAAAAAAAAAAAAGhwbEByCVAZgAIIACAQRCAqHCIQFATYCJANOC04ABCAFgnwHIBtUBwieg3GzHE1cIluZKjJ3mmh/34mH5+/Vc1/nxD1AG+u2hRsD1LGpNM1TkZ9qJmD4W2VLe3b3gB6EyPcCPJkQk0hKnQFHLsdmEWROnX2Gkqb3P4Do4IFjygNbg2URDmxiWRZtVYEQUUDj8Wg2sIHtftAD0M0bxf+ah3ess04m6R8gQD+AhCGRSJRkDIFeJheAAL1iZKGic/IwVALIFSCK+/Y4UEGAIAgQVBQegkuJKXcRIYmXLALnwQSSEIHxCmLxEEyMLEo0nYWJQJhAgTzCRJEwIYLIOiBWK/NyzGDEww2I4adficRUY8xhlyULE4KT6ALJhGAegfsuJ4F0Kk2wBBaTzot4V4GhdPYxxniawtp/W7hgcRSaEAqFRZa4i6VqBbPqliAigT5JEIe0G7ATX6Ml3E1IpDYAEMMAADybbv5mgAQQAGBGJmgHbWAB9IJ3HIEFnN9LmAHjPDhh2vlK0XLpcv1y83LrWtjGb78456TwuuXGz3S/2O3YzdjF2IXYv9FmxAEI0PUD7jl7wPm3PcAluAUJKkUNzwRUSjFMQqWOsh4wBZVG+mbADFRa8cxDPQzPAjR//9Jb5I0mQORKgCXAIdgCHyADQDeA6JgMYbiUsUYJvITgmqa4UCEKLoBB2aCfYY/BdJ0bbNwe2kEGTL4zED0ssodoh046VfbZExa7Fvp2MsVAzU3GnqE0X2ad1R4eZj6yatxi5jBZ8B1nDNtpO0Lf69yAcZoJ8Fj7tTPsebdmYO73Nxr7f30ZV1F3DB1130fvgKBSnB0XUrA9p0VUVhsaXp8+/TooQzZNZRgL/ymXGxYOH17A0FMmMjO8esJXvyv9xjGuPAE8zXg9fXOchStgXsDLUvDs6vqHzPIX+zuwAAAEiPaxZ/31q9PuqpZqMADlR9J+gH/l6CJA/EUGujFAQAIkoBAfEACASMAIsD6bV2cw29VH2AgsCccBCQQCBTkAuozhqF0DXABDkCgzCMblIoIbcr9SqAhJhMVnkWX4r9ERR51z3D577HVSnAJ58pWK0+qII/Y4aJcscdodtkOOOPUOOijOwLr4BL1slxN2Oe60XXbK0c1xMrHv4zhY5b/DEYedWJq0xykHOY5rScUno/24PXYdJMxxYJyKwgs5YnKBQtnyZV+iLeN7tCfs0x1x8uXcmLuU33vIPk+LA2b5UAAAAA==\"","// https://codepen.io/caesarsol/pen/dNejPG\n// JSX for document.createElement()\n\nexport default function h(name, attr, ...children) {\n    const elm = document.createElement(name);\n\n    if (attr) {\n        Object.entries(attr).forEach(([k, v]) => {\n            if (k === 'ref') {\n                v(elm);\n                return;\n            }\n            switch (typeof v) {\n                case 'string':\n                    elm.setAttribute(k, v);\n                    break;\n                case 'function':\n                    const ev = k.replace(/^on/, '').toLowerCase(); // eslint-disable-line no-case-declarations\n                    elm.addEventListener(ev, v);\n                    break;\n            }\n        });\n    }\n\n    children.forEach(child => {\n        if (typeof child === 'string') {\n            elm.appendChild(document.createTextNode(child));\n        } else {\n            elm.appendChild(child);\n        }\n    });\n\n    return elm;\n}\n","'use strict';\n\nimport { Lrc } from 'lrc-kit';\n\nimport h from './h.js'; // eslint-disable-line no-unused-vars\nimport PLAYER_STYLE from './player.less';\nimport PLAYER_FONT_FACE from './font-face.less';\n\nclass MelodyPlayer extends HTMLElement {\n    static get TagName() { return 'melody-player'; }\n\n    static get LoopMode() {\n        return {\n            Once: 0,\n            Single: 1,\n            List: 2,\n            Shuffle: 3,\n            0: 'once',\n            1: 'single',\n            2: 'list',\n            3: 'shuffle'\n        };\n    }\n\n    static get LyricStatus() {\n        return {\n            Loading: 0,\n            Loaded: 1,\n            Failed: 2,\n            None: 3,\n            0: 'loading',\n            1: 'loaded',\n            2: 'failed',\n            3: 'none'\n        };\n    }\n\n    static get LogTag() { return '[MelodyPlayer]'; }\n\n    static log(...args) {\n        console.log(MelodyPlayer.LogTag, ...args); // eslint-disable-line no-console\n    }\n\n    static err(...args) {\n        console.error(MelodyPlayer.LogTag, ...args); // eslint-disable-line no-console\n    }\n\n    static percent(num) {\n        if (typeof num !== 'number') {\n            throw new Error('percent must be number');\n        }\n        return `${(num * 100).toFixed(2)}%`;\n    }\n\n    static time(num) {\n        if (typeof num !== 'number') {\n            throw new Error('time must be number');\n        }\n        const dt = new Date(num * 1000);\n        const mm = dt.getUTCMinutes() + dt.getUTCHours() * 60;\n        const ss = dt.getUTCSeconds();\n        return [mm, ss > 9 ? ss : `0${ss}`].join(':');\n    }\n\n    /**\n     * hide HTML element; set style.display to none\n     * @param {HTMLElement} elm\n     * @param {boolean} hide hide or unhide\n     */\n    static hide(elm, hide = true) {\n        elm.style.display = hide ? 'none' : '';\n    }\n\n    get singleMode() { return this._singleMode; }\n    set singleMode(value) {\n        if (value !== this._singleMode) {\n            window.requestAnimationFrame(() => {\n                if (value === true) {\n                    this.hostElem.setAttribute('single', '');\n                } else {\n                    this.hostElem.removeAttribute('single');\n                }\n            });\n            this._singleMode = value;\n        }\n    }\n\n    get playing() { return this._playing; }\n    set playing(value) {\n        if (value !== this._playing) {\n            this._playing = value;\n            const elm = this.btnPlay;\n            window.requestAnimationFrame(() => {\n                elm.textContent = elm.dataset[value ? 'pause' : 'play'];\n            });\n            try { this.syncProgress(); } catch (e) { /* just ignore */ }\n        }\n    }\n\n    get playIndex() { return this._playIndex; }\n    set playIndex(value) {\n        if (value !== this._playIndex) {\n            this._playIndex = value;\n            const au = this.audios[value];\n            if (Number.isNaN(au.duration)) {\n                au.addEventListener('loadedmetadata', () => {\n                    this.timerTotal.textContent = MelodyPlayer.time(au.duration);\n                });\n            } else {\n                this.timerTotal.textContent = MelodyPlayer.time(au.duration);\n            }\n            this.syncProgress();\n            this.fetchLyric().then(shouldRender => shouldRender ? this.renderLyric() : null);\n        }\n    }\n\n    get lyricStatus() { return this._lyricStatus; }\n    set lyricStatus(value) {\n        if (value !== this._lyricStatus) {\n            this._lyricStatus = value;\n            [\n                this.lyricMaskLoading,\n                this.containerLyric,\n                this.lyricMaskFailed,\n                this.lyricMaskNone\n            ].forEach((elm, i) => MelodyPlayer.hide(elm, value !== i));\n        }\n    }\n\n    get lyricIndex() { return this._lyricIndex; }\n    set lyricIndex(value) {\n        if (value !== this._lyricIndex) {\n            window.requestAnimationFrame(((before, current) => {\n                const bf = this.lyrics[before];\n                if (bf) { bf.classList.remove('active'); }\n                const cur = this.lyrics[current];\n                if (cur) { cur.classList.add('active'); }\n                let offset = 150 / 2\n                    - cur.clientHeight / 2\n                    - cur.offsetTop\n                    - 16;\n                this.containerLyric.style.transform = `translateY(${offset}px)`;\n            }).bind(this, this._lyricIndex, value));\n            this._lyricIndex = value;\n        }\n    }\n\n    get loopMode() { return this._loopMode; }\n    set loopMode(value) {\n        if (value !== this._loopMode) {\n            this._loopMode = value;\n            const elm = this.btnLoop;\n            window.requestAnimationFrame(() => {\n                elm.textContent = elm.dataset[MelodyPlayer.LoopMode[value]];\n            });\n        }\n    }\n\n    get displayVisible() { return this._displayVisible; }\n    set displayVisible(value) {\n        if (value !== this._displayVisible) {\n            window.requestAnimationFrame(() => {\n                if (value === true) {\n                    this.btnLyric.classList.add('flip');\n                    this.containerDisplay.classList.add('active');\n                } else {\n                    this.btnLyric.classList.remove('flip');\n                    this.containerDisplay.classList.remove('active');\n                }\n            });\n            this._displayVisible = value;\n        }\n    }\n\n    /**\n     * current playing audio element\n     */\n    get au() { return this.audios[this._playIndex]; }\n\n    /**\n     * add audio to `this.audios` and add event listeners\n     * @param {HTMLAudioElement} audio\n     */\n    registerAudio(audio) {\n        this.audios.push(audio);\n        const evInit = { detail: { audio } };\n        audio.addEventListener('play', () => {\n            this.playing = true;\n            this.handleAudioPlaying();\n            this.dispatchEvent(new CustomEvent('play', evInit));\n        });\n        audio.addEventListener('pause', () => {\n            this.playing = false;\n            this.dispatchEvent(new CustomEvent('pause', evInit));\n        });\n        audio.addEventListener('ended', () => {\n            this.handleAudioEnd();\n            this.dispatchEvent(new CustomEvent('audioend', evInit));\n        });\n    }\n\n    init() {\n        this.playing = false;\n        this.loopMode = MelodyPlayer.LoopMode.Once;\n        this.displayVisible = false;\n        const { length } = this.audios;\n        if (length > 0) {\n            this.playIndex = 0;\n            this.singleMode = length === 1;\n        }\n    }\n\n    updateProgress() {\n        const { buffered, currentTime, duration } = this.au;\n        const played = currentTime / duration;\n        let loaded = 0;\n        if (buffered.length !== 0) {\n            loaded = buffered.end(buffered.length - 1) / duration;\n        }\n        window.requestAnimationFrame(() => {\n            this.timerPlay.textContent = MelodyPlayer.time(currentTime);\n            this.progressPlay.style.width = MelodyPlayer.percent(played);\n            this.progressLoad.style.width = MelodyPlayer.percent(loaded);\n        });\n    }\n\n    syncProgress() {\n        [this.progressPlay, this.progressLoad].forEach(/** @type {HTMLDivElement} */ elm => {\n            window.requestAnimationFrame(() => elm.classList.add('seek'));\n            setTimeout(() => {\n                window.requestAnimationFrame(() => elm.classList.remove('seek'));\n            }, 200);\n        });\n        this.updateProgress();\n    }\n\n    /**\n     * fetch lrc and attach them to audio element props\n     * @returns {Promise<Boolean>}\n     */\n    fetchLyric() {\n        this.lyricStatus = 0; // Loading\n        const au = this.audios[this._playIndex];\n        const urls = {\n            lrc: au.dataset['lrc'],\n            subLrc: au.dataset['subLrc']\n        };\n        // TODO: cache lyric; retry when cache invalid\n        // maybe the browser would do it?\n        /** @type {Promise<void>[]} */\n        const tasks = [];\n        for (const type in urls) {\n            const lrcUrl = urls[type];\n            if (lrcUrl) {\n                const promise = fetch(lrcUrl).then(r => {\n                    if (r.ok) {\n                        return r.text();\n                    }\n                    throw r;\n                }).then(t => {\n                    try {\n                        au[type] = Object.assign({ status: 1 }, Lrc.parse(t));\n                    } catch (e) {\n                        MelodyPlayer.err('parse lrc', e);\n                        au[type] = { status: 2, lyrics: [] }; // Failed\n                    }\n                }).catch(e => {\n                    MelodyPlayer.err('fetch lyric', e);\n                    au[type] = { status: 2, lyrics: [] }; // Failed\n                });\n                tasks.push(promise);\n            }\n        }\n        // if playIndex changed when fetching lyric, then shouldn't be rendered\n        return Promise.all(tasks).then(() => au === this.au);\n    }\n\n    /**\n     * render to lrc element\n     */\n    renderLyric() {\n        const au = this.audios[this._playIndex];\n        if (au.lrc.status === 3 && au.subLrc.status === 3) { // None\n            this.lyricStatus = 3;\n            return;\n        }\n        if (au.lrc.status !== 1 && au.subLrc.status !== 1) { // Failed\n            this.lyricStatus = 2;\n            return;\n        }\n        this.lyricStatus = 1; // Loaded\n        const cmp = (a, b) => a.timestamp - b.timestamp;\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const lrc = au.lrc.lyrics.sort(cmp);\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const subLrc = au.subLrc.lyrics.sort(cmp);\n        /** @type {Array.<{timestamp:number;content:string}>} */\n        const lyrics = [{ timestamp: 0, content: '\\n' }], lyricElms = [];\n        let i = 0, j = 0;\n        while (i < lrc.length || j < subLrc.length) {\n            const l = lrc[i], sl = subLrc[j];\n            if (l && sl && l.timestamp === sl.timestamp) {\n                lyrics.push({ timestamp: l.timestamp, content: `${l.content}\\n${sl.content}` });\n                i++ , j++;\n            } else if (!l && sl || l && sl && l.timestamp > sl.timestamp) {\n                lyrics.push({ timestamp: sl.timestamp, content: sl.content });\n                j++;\n            } else if (!sl && l || l && sl && sl.timestamp > l.timestamp) {\n                lyrics.push({ timestamp: l.timestamp, content: l.content });\n                i++;\n            }\n        }\n        const frag = document.createDocumentFragment();\n        for (const line of lyrics) {\n            const elm = <p class='line' data-timestamp={line.timestamp}>{line.content || '\\n'}</p>;\n            elm.timestamp = line.timestamp;\n            frag.appendChild(elm);\n            lyricElms.push(elm);\n        }\n        this.lyrics = lyricElms;\n        window.requestAnimationFrame(() => {\n            this.containerLyric.textContent = '';\n            this.containerLyric.appendChild(frag);\n            this.nextLyricIndex();\n        });\n    }\n\n    nextLyricIndex() {\n        if (this._lyricStatus !== 1) { // Not Loaded\n            return this.lyricIndex = 0;\n        }\n        const { currentTime } = this.au;\n        let loopStart = this._lyricIndex || 0;\n        // decide where to start loop\n        const activeLyric = this.lyrics[this._lyricIndex];\n        if (activeLyric) {\n            const activeTime = activeLyric.timestamp || +activeLyric.dataset['timestamp'];\n            if (currentTime < activeTime) {\n                // audio seek back, loop lyric from 0\n                loopStart = 0;\n            }\n        }\n        for (let i = loopStart; i < this.lyrics.length; i++) {\n            const elm = this.lyrics[i];\n            const time = elm.timestamp || +elm.dataset['timestamp'];\n            if (time > currentTime) {\n                return this.lyricIndex = !i ? 0 : i - 1;\n            }\n        }\n        return this.lyricIndex = this.lyrics.length - 1;\n    }\n\n    handleAudioPlaying() {\n        const time = this.au.currentTime;\n        // audio loop when `this._singleMode` true\n        if (time < this._currentSecond) {\n            this.syncProgress();\n            this._currentSecond = Math.floor(time);\n        }\n        if (time - this._currentSecond > 1) {\n            this.updateProgress();\n            this._currentSecond = Math.floor(time);\n        }\n        if (this._lyricStatus === 1 && this._displayVisible) { // Loaded\n            this.nextLyricIndex();\n        }\n        if (this._playing) {\n            setTimeout(() => this.handleAudioPlaying(), 166);\n        }\n    }\n\n    _play() {\n        return this.au.play();\n    }\n\n    /**\n     * @param {number} position time to seek after pause\n     */\n    _pause(position = true) {\n        this.au.pause();\n        if (position === 0) {\n            this.au.currentTime = 0;\n        }\n    }\n\n    handlePlayOrPause() {\n        if (this._playing) {\n            this._pause();\n        } else {\n            this._play();\n        }\n    }\n\n    /**\n     * @param {number} offset next offset\n     * @param {boolean} force force switch to next track\n     */\n    nextPlayIndex(offset = 1, force = false) {\n        const mode = this.loopMode;\n        const total = this.audios.length;\n        let i = this._playIndex;\n        if (force === true || mode === 0 || mode === 2) { // Once || List\n            i = (total + i + offset);\n        } else if (mode === 3) { // Shuffle\n            i = Math.floor(Math.random() * total);\n        }\n        this.playIndex = i % total;\n    }\n\n    /**\n     * @param {number} offset next offset\n     */\n    handleNext(offset = 1) {\n        this._pause(0);\n        this.nextPlayIndex(offset, this._loopMode === 1);\n        this._play();\n    }\n\n    handleAudioEnd() {\n        this._pause(0);\n        this.nextLyricIndex();\n        this.nextPlayIndex();\n        if (this._loopMode === 0 && this._playIndex === 0) {\n            this.playing = false;\n            this.dispatchEvent(new CustomEvent('playend'));\n        } else {\n            this._play();\n        }\n    }\n\n    handleLoopMode() {\n        if (this._singleMode) {\n            if (this._loopMode === 1) {\n                this.loopMode = 0;\n            } else {\n                this.loopMode = 1;\n            }\n            this.audios[0].loop = this._loopMode === 1;\n        } else {\n            this.loopMode = (this.loopMode + 1) % 4;\n        }\n    }\n\n    /**\n     * handle click on progress bar\n     * @param {MouseEvent} ev MouseEvent from click listener\n     */\n    handleProgressSeek(ev) {\n        const rect = this.progressFull.getBoundingClientRect();\n        const seekTime = (ev.clientX - rect.left) / rect.width * this.au.duration;\n        this.au.currentTime = seekTime;\n        this.syncProgress();\n        if (this._displayVisible) {\n            this.nextLyricIndex();\n        }\n        this._currentSecond = Math.floor(seekTime);\n    }\n\n    handleToggleDisplay() {\n        this.displayVisible = !this._displayVisible;\n    }\n\n    render() {\n        const shadow = this.attachShadow({ mode: process.env.NODE_ENV === 'development' ? 'open' : 'closed' });\n        const style = <style>{PLAYER_STYLE.toString()}</style>;\n        this.hostElem = (\n            <div class=\"__mld__\">\n                <div ref={r => this.containerDisplay = r} class=\"disp\">\n                    <div ref={r => this.lyricMaskLoading = r} class=\"lrc mask\"><p class=\"line\">{'歌词加载中\\nLoading Lyric\\n歌詞を読み込む'}</p></div>\n                    <div ref={r => this.lyricMaskFailed = r} class=\"lrc mask\"><p class=\"line\">{'歌词加载失败\\nFailed to Load Lyric\\n歌詞を読み込めません'}</p></div>\n                    <div ref={r => this.lyricMaskNone = r} class=\"lrc mask\"><p class=\"line\">{'暂无歌词\\nNo Lyric\\n歌詞なし'}</p></div>\n                    <div ref={r => this.containerLyric = r} class=\"lrc\"></div>\n                </div>\n                <div class=\"ctl\">\n                    <div class=\"ctl-left\">\n                        <button ref={r => this.btnPrev = r} onClick={() => this.handleNext(-1)}>skip_previous</button>\n                        <button ref={r => this.btnPlay = r} onClick={() => this.handlePlayOrPause()} data-play=\"play_arrow\" data-pause=\"pause\">stop</button>\n                        <button ref={r => this.btnNext = r} onClick={() => this.handleNext()}>skip_next</button>\n                    </div>\n                    <div ref={r => this.progressFull = r} onClick={ev => this.handleProgressSeek(ev)} class=\"porgress\">\n                        <div ref={r => this.progressLoad = r} class=\"load\"></div>\n                        <div ref={r => this.progressPlay = r} class=\"play\"></div>\n                    </div>\n                    <div class=\"timer\"><span ref={r => this.timerPlay = r}>0:00</span> / <span ref={r => this.timerTotal = r}>0:00</span></div>\n                    <div class=\"ctl-right\">\n                        <button ref={r => this.btnLoop = r} onClick={() => this.handleLoopMode()} data-once=\"subdirectory_arrow_right\" data-single=\"repeat_one\" data-list=\"repeat\" data-shuffle=\"shuffle\">cancel</button>\n                        <button ref={r => this.btnLyric = r} onClick={() => this.handleToggleDisplay()}>keyboard_capslock</button>\n                    </div>\n                </div>\n            </div>\n        );\n        window.requestAnimationFrame(() => {\n            shadow.appendChild(style);\n            shadow.appendChild(this.hostElem);\n            this.setAttribute('rendered', '');\n        });\n    }\n\n    constructor() {\n        super();\n        /** @type {boolean} */\n        this._singleMode = null;\n        this._currentSecond = 0;\n        /** @type {boolean} */\n        this._playing = null;\n        /** @type {HTMLAudioElement[]} */\n        this.audios = [];\n        /** @type {number} */\n        this._playIndex = null;\n        /** @type {number} */\n        this._lyricStatus = null;\n        /** @type {HTMLParagraphElement[]} */\n        this.lyrics = null;\n        /** @type {number} */\n        this._lyricIndex = null;\n        /** @type {number} */\n        this._loopMode = null;\n        /** @type {boolean} */\n        this._displayVisible = null;\n        /** @type {HTMLElement} */\n        this.hostElem = null;\n        /** @type {HTMLDivElement} */\n        this.containerDisplay = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskLoading = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskFailed = null;\n        /** @type {HTMLDivElement} */\n        this.lyricMaskNone = null;\n        /** @type {HTMLDivElement} */\n        this.containerLyric = null;\n        /** @type {HTMLDivElement} */\n        this.progressFull = null;\n        /** @type {HTMLDivElement} */\n        this.progressPlay = null;\n        /** @type {HTMLDivElement} */\n        this.progressLoad = null;\n        /** @type {HTMLSpanElement} */\n        this.timerPlay = null;\n        /** @type {HTMLSpanElement} */\n        this.timerTotal = null;\n        /** @type {HTMLButtonElement} */\n        this.btnPrev = null;\n        /** @type {HTMLButtonElement} */\n        this.btnPlay = null;\n        /** @type {HTMLButtonElement} */\n        this.btnNext = null;\n        /** @type {HTMLButtonElement} */\n        this.btnLoop = null;\n        /** @type {HTMLButtonElement} */\n        this.btnLyric = null;\n        Promise.resolve().then(() => {\n            Array.from(this.children)\n                .filter(elm => elm instanceof HTMLAudioElement)\n                .map(elm => this.registerAudio(elm));\n            this.init();\n            const evInit = { detail: { audios: this.audios } };\n            this.dispatchEvent(new CustomEvent('ready', evInit));\n        });\n        this.render();\n    }\n}\n\nif (!window.customElements.get(MelodyPlayer.TagName)) {\n    window.customElements.define(MelodyPlayer.TagName, MelodyPlayer);\n    document.head.appendChild(<style>{PLAYER_FONT_FACE.toString()}</style>);\n}\n"],"sourceRoot":""}